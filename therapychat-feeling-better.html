<link rel="import" href="../polymer/polymer.html">
<!--
`therapychat-feeling-better`

Example:
```html
<therapychat-feeling-better
  bottom-title="empieza a sentirte mejor"
  button-href="https://app.therapychat.com/signup"
  button-target=""
  button-text="Hablar ahora"
  button-title="Hablar ahora"
  subtitle="Pregunta a nuestro psicólogo sin compromiso"
  top-title="TherapyChat"
></therapychat-feeling-better>
```

### Styling

The following custom properties and mixins are available for styling:

Custom property | Description | Default
----------------|-------------|----------
`--therapychat-feeling-better` | Mixin applied to the component | `{}`
`--therapychat-feeling-better-mq-510-down` | Mixin applied to the component when `max-width: 510px` | `{}`
`--therapychat-feeling-better-button` | Mixin applied to the button | `{}`
`--therapychat-feeling-better-button-focus` | Mixin applied to the button whenf ocused | `{}`

-->
<dom-module id="therapychat-feeling-better">
  <template>

    <style>
      :host {
        display: block;
        text-align: center;
        font-family: "Circular", "Roboto", sans-serif;
        padding: 3.6em .625em;
        background-image: linear-gradient(108deg, #89dbdb, #9cc9e8);
        font-size: 1rem;
        color: #ffffff;

        @apply(--therapychat-feeling-better);
      }

      .tfb-top-title,
      .tfb-bottom-title {
        margin: .20em 0;
        font-size: 2.38em;
        font-weight: 500;
        line-height: 1.21em;
      }

      .tfb-separator::after {
        content: '';
        display: block;
        margin: .6em auto;
        height: 1px;
        width: 1.3em;
        background: currentColor;
      }

      .tfb-subtitle {
        margin: 1.56em auto 2em auto;
        max-width: 40.625em;
        font-size: 1em;
        font-weight: 200;
      }

      .tfb-button {
        display: inline-block;
        padding: .70em 0;
        width: 13.25em;
        border-radius: .2em;
        background-image: linear-gradient(90deg, #78b6e6, #584bc9 50%);
        background-size: 200%;
        background-position: 0%;
        transition: background-position .2s ease-in-out;
        font-size: 1.25em;
        font-weight: 300;
        text-decoration: none;

        @apply(--therapychat-feeling-better-button);
      }

      .tfb-button:focus,
      .tfb-button:hover {
        background-position: 100%;

        @apply(--therapychat-feeling-better-button-focus);
      }

      @media (max-width: 510px) {

        :host {
          padding: 1.625em 1.1875em;
          background-image: linear-gradient(126deg, #89dbdb, #9cc9e8);
          text-align: left;

          @apply(--therapychat-feeling-better-mq-510-down);
        }

        .tfb-separator:after {
          display: none;
        }

        .tfb-top-title, .tfb-bottom-title {
          font-size: 1.7em;
        }

        .tfb-subtitle {
          display: none;
        }

        .tfb-button {
          margin-top: .85em;
          padding: .365em 1.3em;
          width: auto;
          font-size: 1.125em;
        }

      }
    </style>

    <div>

      <template is="dom-if" if="[[topTitle]]">
        <h1 class$="[[_computedTopTitleClass(separator, bottomTitle)]]">[[topTitle]]</h1>
      </template>

      <template is="dom-if" if="[[bottomTitle]]">
        <h2 class$="[[_computedBottomTitleClass(separator)]]">[[bottomTitle]]</h2>
      </template>

      <template is="dom-if" if="[[subtitle]]">
        <p class="tfb-subtitle">[[subtitle]]</p>
      </template>

      <template is="dom-if" if="[[buttonText]]">
        <a
          class="tfb-button"
          href$="[[buttonHref]]"
          target$="[[buttonTarget]]"
          title$="[[_computedButtonTitle(buttonTitle, buttonText)]]"
        >[[buttonText]]</a>
      </template>

    </div>

  </template>
  <script>
    /* global Polymer */
    Polymer({

      is: 'therapychat-feeling-better',

      properties: {
        bottomTitle: {
          type: String,
          value: 'empieza a sentirte mejor'
        },
        buttonHref: {
          type: String,
          value: 'https://app.therapychat.com/signup'
        },
        buttonTarget: {
          type: String,
          value: ''
        },
        buttonText: {
          type: String,
          value: 'Hablar ahora'
        },
        buttonTitle: {
          type: String,
          value: ''
        },
        separator: {
          type: Boolean,
          value: false
        },
        subtitle: {
          type: String,
          value: 'Pregunta a nuestro psicólogo sin compromiso'
        },
        topTitle: {
          type: String,
          value: 'TherapyChat'
        }
      },

      _computedTopTitleClass: function (separator, bottomTitle) {
        return 'tfb-top-title ' + (separator && !bottomTitle ? 'tfb-separator' : '')
      },

      _computedBottomTitleClass: function (separator) {
        return 'tfb-bottom-title ' + (separator ? 'tfb-separator' : '')
      },

      _computedButtonTitle: function (buttonTitle, buttonText) {
        return buttonTitle || buttonText
      }

    })
  </script>
</dom-module>
